

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Version Control &mdash; Software Engineering for Machine Learning  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Code Review" href="chapter_cr.html" />
    <link rel="prev" title="Introduction to Python" href="chapter_python.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Software Engineering for Machine Learning
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../frontmatter/preface.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_python.html">Introduction to Python</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Version Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#software-versions">Software Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#github">github</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clone-a-repository">Clone a Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="#commit-and-push">Commit and Push</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-and-remove-files">Add and Remove Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collaboration-using-github">Collaboration using github</a></li>
<li class="toctree-l2"><a class="reference internal" href="#branches">Branches</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pull-requests">Pull Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#issues">Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#release-this-book">Release this Book</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-up-ssh-key">Set Up SSH Key</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chapter_cr.html">Code Review</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_test.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_ws.html">Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_ci.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_graphics.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_reproducibility.html">Reproducibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unsupervised/chapter_ml.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unsupervised/chapter_kmeans.html">K-Means Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unsupervised/chapter_hierarchical.html">Hierarchical Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unsupervised/chapter_pca.html">Principal Component Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unsupervised/chapter_practical.html">Practical Considerations of Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unsupervised/chapter_floating_point.html">Floating Point and Finite Precision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supervised/chapter_supervised.html">Supervised Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supervised/chapter_gradient.html">Gradient Descent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supervised/chapter_svm.html">Support Vector Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supervised/chapter_neural_networks.html">Neural Networks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/chapter_building_the_book.html">Building the Book using Sphinx, GitHub Pages, and Travis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/chapter_sphinx_demo.html">Sphinx Demonstration</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Software Engineering for Machine Learning</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Version Control</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/software/chapter_vc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="version-control">
<h1>Version Control<a class="headerlink" href="#version-control" title="Permalink to this headline">¶</a></h1>
<div class="section" id="software-versions">
<h2>Software Versions<a class="headerlink" href="#software-versions" title="Permalink to this headline">¶</a></h2>
<p>No writer can finish a good book in one shot. A book needs to be writen
section by section and chapter by chapter. The writing is likely
reviewed and revised multiple times. If you watch a movie DVD, you can
find Deleted Scenes— the sections that have been made but never used in
the actual movie. Any non-trivial work needs to be created gradually and
improved over and over again before it is ready. Developing software is
no different: functionality is added gradually. Sometimes, finished
functions need to change because customers’ needs have changed,
competitors have introduced new features and modifications are needed,
new regulations are announced, or new standards are issued. All of these
mean that software must be developed in small pieces; these pieces are
called version.</p>
<p>There is no widely accepted definition of a version, just like there is
no specific definition what should be considered as a chapter in a book.
One may consider each additional line as a new version while another may
consider a completely implemented and fully tested feature as a version.
Generally speaking, a version should be self-contained and a complete
unit, like a section or a chapter in a book. The tools that manage
versions are called version control. When multiple people work together,
version control becomes essential to ensure proper coordination.</p>
<p>There are many version control systems, such CVS (concurrent version
system) and SVN (subversion). This book uses git for version control. It
is a distributed version control system, meaning that there can be two
types of repositories: One is on each user’s computer; the other is
shared by all users. The advantage of a distributed version control
system will become clear after explaining how people collaborate
developing software.</p>
<p>The version control system git is a set of programs managing files. You
can run git on your own computer. You can also set up a git server
shared by multiple people. Alternatively, you can use websites that
offer version control functions; examples include github.com and
bitbucket.org. This book uses github as an example. You can find entire
books talking about git as well as thousands of web postings about how
to use github. The toolset git has many different functions and github
offers many different ways to accomplish the same goals. This book does
not intend to replace those materials. Instead, this book provides
enough details for common needs. Readers interested knowing more can
easily find additional documentations.</p>
</div>
<div class="section" id="github">
<h2>github<a class="headerlink" href="#github" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id1">
<span id="figure-github1"></span><img alt="github website" src="../_images/github1.png" />
<p class="caption"><span class="caption-number">Figure 2 </span><span class="caption-text">github website</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="id2">
<span id="figure-github2"></span><img alt="Students and teachers can apply for free repositories." src="../_images/github2.png" />
<p class="caption"><span class="caption-number">Figure 3 </span><span class="caption-text">Students and teachers can apply for free repositories.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>This book chooses github for three reasons: (1) It is widely used. (2)
It is free for education purposes. (3) It is supported by many tools
other than the github website. <a class="reference internal" href="#figure-github1"><span class="std std-numref">Figure 2</span></a> shows the
website of github and the portal for an education account. Signing up in
github is easy, as shown in <a class="reference internal" href="#figure-github3"><span class="std std-numref">Figure 4</span></a>. After
creating an account, a repository can be created as shown in
<a class="reference internal" href="#figure-github4"><span class="std std-numref">Figure 5</span></a>. This website has many
options: the name of the repository, whether it is public or private,
whether to initialize the repository with README, etc.
<a class="reference internal" href="#figure-github5"><span class="std std-numref">Figure 6</span></a> shows the options for creating a new
repository:</p>
<div class="figure align-default" id="id3">
<span id="figure-github3"></span><img alt="Create an account in github" src="../_images/github3.png" />
<p class="caption"><span class="caption-number">Figure 4 </span><span class="caption-text">Create an account in github</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="id4">
<span id="figure-github4"></span><img alt="Create a repository in github" src="../_images/github4.png" />
<p class="caption"><span class="caption-number">Figure 5 </span><span class="caption-text">Create a repository in github</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="id5">
<span id="figure-github5"></span><img alt="A new repository" src="../_images/github5.png" />
<p class="caption"><span class="caption-number">Figure 6 </span><span class="caption-text">A new repository</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="id6">
<span id="figure-github6"></span><img alt="The repository has been created." src="../_images/github6.png" />
<p class="caption"><span class="caption-number">Figure 7 </span><span class="caption-text">The repository has been created.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>Repository name: pythonexamples</p></li>
<li><p>Description: sample programs written in Python</p></li>
<li><p>Public</p></li>
<li><p>Check “Initialize this repository with a README”</p></li>
<li><p>Select “Add .gitignore: Python”</p></li>
<li><p>Select “Add a license: Apache License 2.0”</p></li>
</ul>
<p><a class="reference internal" href="#figure-github5"><span class="std std-numref">Figure 6</span></a> and <a class="reference internal" href="#figure-github6"><span class="std std-numref">Figure 7</span></a> shows the repository
after it has been created. As can be seen on the website, there are many
options changing this repository. For example, it is possible adding new
files or uploading files. It is also possible editing an file by
clicking the pen icon.</p>
</div>
<div class="section" id="clone-a-repository">
<h2>Clone a Repository<a class="headerlink" href="#clone-a-repository" title="Permalink to this headline">¶</a></h2>
<p>A more common way of using a repository, however, is to clone the
repository on another computer, as illustrated in
<a class="reference internal" href="#figure-gitclone"><span class="std std-numref">Figure 8</span></a>.</p>
<div class="figure align-default" id="id7">
<span id="figure-gitclone"></span><img alt="Using git clone command creates a repository on another computer." src="../_images/gitclone.png" />
<p class="caption"><span class="caption-number">Figure 8 </span><span class="caption-text">Using git clone command creates a repository on another computer.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>To clone a repository, it is necessary knowing the path in github.
<a class="reference internal" href="#figure-github7"><span class="std std-numref">Figure 9</span></a> shows the path of the repository.</p>
<div class="figure align-default" id="id8">
<span id="figure-github7"></span><img alt="Cloning a repository may use HTTPS or SSH." src="../_images/github7.png" />
<p class="caption"><span class="caption-number">Figure 9 </span><span class="caption-text">Cloning a repository may use HTTPS or SSH.</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>To clone the repository, starts a Terminal in Linux and type the git
clone command. In the following example, $ is the command prompt for the
Terminal.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/yhluprog/pythonexamples.git
</pre></div>
</div>
<p>The command clones the repository and the following message is shown:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cloning</span> <span class="n">into</span> <span class="s1">&#39;pythonexamples&#39;</span><span class="o">...</span>
<span class="n">remote</span><span class="p">:</span> <span class="n">Enumerating</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">done</span><span class="o">.</span>
<span class="n">remote</span><span class="p">:</span> <span class="n">Counting</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">5</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
<span class="n">remote</span><span class="p">:</span> <span class="n">Compressing</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">5</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
<span class="n">remote</span><span class="p">:</span> <span class="n">Total</span> <span class="mi">5</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">0</span><span class="p">),</span> <span class="n">reused</span> <span class="mi">0</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pack</span><span class="o">-</span><span class="n">reused</span> <span class="mi">0</span>
<span class="n">Unpacking</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">5</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
<span class="n">Checking</span> <span class="n">connectivity</span><span class="o">...</span> <span class="n">done</span><span class="o">.</span>
</pre></div>
</div>
<p>After cloning the repository, a directory (also called folder) with the
name pythonexamples is created. This can be shown using the ls command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls
pythonexamples/
</pre></div>
</div>
<p>Inside this directory, there are already two files: LICENSE and
README.md. The is a hidden file .gitignore. It is hidden because it
starts with . and is not shown by the ls command. To show a hidden file,
it is necessary using the ls -a command. Additionally, a hidden
directory (ending with /) called .git is also shown.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd pythonexamples/
$ ls -a
./  ../  .git/  .gitignore  LICENSE  README.md
</pre></div>
</div>
<p>Enter the directory using the cd command and use the ls command to see
the files and directories.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd .git
$ ls
branches/  config  description  HEAD  hooks/  index
info/  logs/  objects/  packed-refs  refs/
</pre></div>
</div>
<p>Among them, config stores the information about the remote repository.
The more command can show the content of the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ more config
[core]
    repositoryformatversion = 0
    filemode = true
    bare = false
    logallrefupdates = true
[remote &quot;origin&quot;]
    url = https://github.com/yhluprog/pythonexamples.git
    fetch = +refs/heads/*:refs/remotes/origin/*
[branch &quot;master&quot;]
    remote = origin
    merge = refs/heads/master
</pre></div>
</div>
<p>The line starting with url is the path used in git clone. The concept of
branch will be explained later in this chapter.</p>
</div>
<div class="section" id="commit-and-push">
<h2>Commit and Push<a class="headerlink" href="#commit-and-push" title="Permalink to this headline">¶</a></h2>
<p>There are many different methods modifying a repository. The first
method modifies an existing file. Use a text editor and add the
following line to README.md:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">repository</span> <span class="n">demonstrates</span> <span class="n">how</span> <span class="n">to</span> <span class="n">use</span> <span class="n">commit</span><span class="p">,</span> <span class="n">push</span><span class="p">,</span> <span class="ow">and</span> <span class="n">branch</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git commit
On branch master
Your branch is up-to-date with &#39;origin/master&#39;.
Changes not staged for commit:
    modified:   README.md
</pre></div>
</div>
<p>After adding this line, use the git commit command to show which file
has been changed:</p>
<p>What does this mean? It says a file README.md has been changed but it
has not been committed. The next question is the difference between
changes and commit. Modifications are often reviewed and revised
multiple times; these changes are transient and do not need to be
recorded in the repository. When the modifications are satisfactory, the
file is ready to “take a snapshot” by creating a new version. The
command to take a snapshot is git commit.</p>
<p>The earlier git commit shows the candidate(s) for commit. A candidate
can be a files that has been modified (README.md in this example). This
command has not committed any changes yet and has not created a new
version. To commit the change of a specific file, it is necessary adding
the file’s name as shown in the following example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git commit -m &quot;add a line&quot; README.md
[master 26317f0] add a line
 1 file changed, 2 insertions(+)
</pre></div>
</div>
<div class="figure align-default" id="id9">
<span id="figure-gitcommit"></span><img alt="After several changes, git commit creates a new version and stores it in the local repository." src="../_images/gitcommit.png" />
<p class="caption"><span class="caption-number">Figure 10 </span><span class="caption-text">After several changes, git commit creates a new version and stores it in the local repository.</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>In this command, -m means the commit message and this commit message is
“add a line”. The name of the file, README.md, is included to indicate
which file to take a snapshot and a new version is created. This new
version is visible at only the local repository, not the remote
repository (in github). To make the changes visible in github, another
command git push is needed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push
Username for &#39;https://github.com&#39;: yhluprog
Password for &#39;https://yhluprog@github.com&#39;:
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 343 bytes | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/yhluprog/pythonexamples.git
   883333a..26317f0  master -&gt; master
</pre></div>
</div>
<p>The git push command needs an user name and the password because it does
not allow everyone to push and modify the repository. The rest of the
message can be ignored for now. <a class="reference internal" href="#figure-gitpush"><span class="std std-numref">Figure 11</span></a> shows
the typical workflow of using github: Use git push to modify the remote
repository after several git commit commands creating new versions on
the local repository.</p>
<div class="figure align-default" id="id10">
<span id="figure-gitpush"></span><img alt="Typical workflow of using github" src="../_images/gitpush.png" />
<p class="caption"><span class="caption-number">Figure 11 </span><span class="caption-text">Typical workflow of using github</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#figure-github8"><span class="std std-numref">Figure 12</span></a> shows the github website after git
push. The changes are clearly marked: if a new line is added, a “+” sign
is added in front. Similarly, if a line is deleted, a “-” sign is added
in front (not shown in this example).</p>
<div class="figure align-default" id="id11">
<span id="figure-github8"></span><img alt="The website of github shows the change." src="../_images/github8.png" />
<p class="caption"><span class="caption-number">Figure 12 </span><span class="caption-text">The website of github shows the change.</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="add-and-remove-files">
<h2>Add and Remove Files<a class="headerlink" href="#add-and-remove-files" title="Permalink to this headline">¶</a></h2>
<p>The examples so far only modify an existing file: README.md added by
github when the repository is created. This section explains how to add
and remove files or directories. Use a text editor to create the
following simple Python program (without the line numbers).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python3</span>
<span class="c1"># hello.py</span>

<span class="k">def</span> <span class="nf">printhello</span><span class="p">():</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello Python&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span><span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
  <span class="n">printhello</span><span class="p">()</span>
</pre></div>
</div>
<p>The git add command informs the intention of adding this file to the
repository. It is important to know that this file has not been added
yet. To actually add this file, it is necessary using the git commit
command followed by a message and the name of the file to be added, as
shown below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git add hello.py
$ git commit -m &quot;add a new file to print hello&quot; hello.py
[master 1ed761d] add a new file to print hello
 1 file changed, 7 insertions(+)
 create mode 100755 hello.py
</pre></div>
</div>
<p>The git push command modifies the repository in github</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push
Username for &#39;https://github.com&#39;: yhluprog
Password for &#39;https://yhluprog@github.com&#39;:
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 365 bytes | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/yhluprog/pythonexamples.git
   26317f0..1ed761d  master -&gt; master
</pre></div>
</div>
<div class="figure align-default" id="id12">
<span id="figure-github10"></span><img alt="The added file hello.py is listed in github." src="../_images/github10.png" />
<p class="caption"><span class="caption-number">Figure 13 </span><span class="caption-text">The added file hello.py is listed in github.</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>A directory can be created using the mkdir command in Linux. Adding a
file in a directory automatically to the repository adds the directory.</p>
<p>To remove a file, use the git rm command, followed by git commit. If git
push is used, the file is also removed from github.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git rm hello.py
rm &#39;hello.py&#39;
$ git commit -m &quot;remove the file&quot; hello.py
[master 3357bae] remove the file
 1 file changed, 7 deletions(-)
 delete mode 100755 hello.py
$ git push
Username for &#39;https://github.com&#39;: yhluprog
Password for &#39;https://yhluprog@github.com&#39;:
Counting objects: 2, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (2/2), 221 bytes | 0 bytes/s, done.
Total 2 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/yhluprog/pythonexamples.git
   1ed761d..3357bae  master -&gt; master
</pre></div>
</div>
<p>It is important to know that the deleted file does not disappear. It is
still stored in the history of the repository. In github, clicking the
commit history shows all the changes over time, as shown in
<a class="reference internal" href="#figure-github11"><span class="std std-numref">Figure 14</span></a>.</p>
<div class="figure align-default" id="id13">
<span id="figure-github11"></span><img alt="The commit history." src="../_images/github11.png" />
<p class="caption"><span class="caption-number">Figure 14 </span><span class="caption-text">The commit history.</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
<p>It is also possible using the git log command to see the history in the
reverse chronological order (the most recent first):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$  git log
commit 3357baed98088aacc452a1135ff16739fe64cab6
Author: XXXX
Date:   YYYY

    remove the file

commit 1ed761dbd9a70c6b38a7d788dd3afc19d33f3b9a
Author: XXXX
Date:   YYYY

    add a new file to print hello

commit 26317f089e64f8fd10b7d4a5dc96fad1bdccab7f
Author: XXXX
Date:   YYYY

    add a line

commit 883333a9c3177b5e3d826addb15b8ebf4caf7b8c
Author: XXXX
Date:   YYYY

    Initial commit
</pre></div>
</div>
</div>
<div class="section" id="collaboration-using-github">
<h2>Collaboration using github<a class="headerlink" href="#collaboration-using-github" title="Permalink to this headline">¶</a></h2>
<p>Does does “hub” in github mean? Think of it as an airline hub or a bus
hub, where travellers come from many different places in order to change
flights or bus lines. Similarly, github allows collaborators to share
and exchange. Adding collaborators would be easy, by clicking Settings
and Collaborators, as shown in <a class="reference internal" href="#figure-github9"><span class="std std-numref">Figure 15</span></a>.</p>
<div class="figure align-default" id="id14">
<span id="figure-github9"></span><img alt="Add collaborators to a repository." src="../_images/github9.png" />
<p class="caption"><span class="caption-number">Figure 15 </span><span class="caption-text">Add collaborators to a repository.</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
<p>Two people may share and modify the same repository in github in the way
depicted in <a class="reference internal" href="#figure-githubcollaborate"><span class="std std-numref">Figure 16</span></a>. In this figure,
the numbers in black ovals indicate steps within individual’s local
repository. The numbers in white ovals indicate steps involving the
remote repository. <a class="reference internal" href="#figure-githubcollaborate"><span class="std std-numref">Figure 16</span></a> shows two
people start from the same remote repository. This is not necessary. It
is possible to clone the remote repository after many modifications have
already been made by another person.</p>
<div class="figure align-default" id="id15">
<span id="figure-githubcollaborate"></span><img alt="Workflow of two people upading the same repository in github." src="../_images/githubcollaborate.png" />
<p class="caption"><span class="caption-number">Figure 16 </span><span class="caption-text">Workflow of two people upading the same repository in github.</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<p>Each person starts by cloning the same repository in github. After
cloning, each person can work independently without interfering with
each other. Each person can also commit multiple times creating multiple
versions on their local repositories. When one decides it is time to
share a version with the other person, this version is pushed to the
shared repository in github. Before anything is pushed, the local
repository should be updated by using the git pull command to ensure any
changes by the other person is reflected. Otherwise, the changes by the
other person may be erased by the new push. Even though the erased
changes can be recovered, pushing without pulling first creates
unnecessary trouble and is impolite.</p>
<p>This following is an example of running the git pull command while
writing this book. It says two files, README.md and python.tex, have
been modified by a collaborator (maybe several collaborators).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git pull
remote: Enumerating objects: 16, done.
remote: Counting objects: 100% (16/16), done.
remote: Compressing objects: 100% (11/11), done.
remote: Total 16 (delta 7), reused 14 (delta 5), pack-reused 0
Unpacking objects: 100% (16/16), done.
From https://github.com/PurdueCAM2Project/SE4ML
   7e25147..5051695  master     -&gt; origin/master
 * [new tag]         v0.6       -&gt; v0.6
 * [new tag]         v0.7       -&gt; v0.7
 * [new tag]         v0.6.1     -&gt; v0.6.1
Updating 7e25147..5051695
Fast-forward
 README.md                  |   8 ++--
 software/python/python.tex | 221 ++++++-----------
 2 files changed, 101 insertions(+), 128 deletions(-)
</pre></div>
</div>
<p>Now is a good time explaining the advantage of distributed version
control systems like git. <a class="reference internal" href="#figure-githubcollaborate"><span class="std std-numref">Figure 16</span></a>
shows three repositories: one remote and shared in github and two local
repositories by two different people. These two people can change the
files on their local repositories without affecting the other person. In
fact, they can commit many times creating multiple versions before
pushing any changes and make the changes visible to the other person. An
obvious question is when one should commit and when one should push.</p>
<p>The answer to the first question (when to commit) is simple: commit
anytime as one wishes. Since commit does not affect the shared
repository, it is acceptable committing changes that are incomplete or
even contain errors (i.e., “bugs”). Committing creates a new version
with a message; this new version is searchable by the message. When one
decides the changes are “good enough” to stay for now, it is time to
commit and create a new version. One may experiment different methods
implementing a feature with different versions. Each method can be a new
version or even several versions. As long as the versions are not
pushed, the experiments do not cause any problem to the other people
sharing the same github repository. Version control cannot help if one
does not commit. Thus, a good rule is “when in doubt, commit”.</p>
<p>[page:whengitpush] The answer to the second question (when to push) is a
little more complex because the pushed changes are visible by the other
people. The general rule about pushing is “Do you want the other people
to see your changes?” If the answer is yes, then push the changes. If
the answer is no, then do not push yet. Now, the question becomes “When
would you like people to see the changes?” Usually, the pushed changes
should be functional and fully debugged. Incomplete or buggy changes
should not be pushed (unless they are needed by some other people to
complete or to debug). Sometimes, several people working on related
things and the push by each individual is incomplete. Instead, they need
to coordinate their pushes so that their work can be integrated. Page
will talk about branches as a way to push changes without directly
affecting the other people.</p>
<p>In most cases, no problem occurs when two or more people modify the same
remote repository. If one person modifies a file and another person
modifies a different file, git simply takes the changes by both people
in the latest versions (typically called “merge” the changes). Even if
two people modify the same file, git may still be able to add the
changes from both people. In rare cases, however, conflicts may occur
when two people modify the same file and the changes are too similar for
git to determine what to do. Conflicts appear in the the following
markers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
<span class="n">content</span> <span class="kn">from</span> <span class="nn">one</span> <span class="n">version</span>
<span class="o">=======</span>
<span class="n">content</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">other</span> <span class="n">version</span>
<span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Conventionally, the person that wants to push later is responsible
discovering and resolving conflicts by doing git pull before git push.
To resolve conflicts, the person that discovers conflicts should examine
the differences and determines which to keep and which to discard.</p>
<p>A few general rules can reduce the chances of conflicts: First,
communicate and coordinate with collaborators often. Second, do git pull
and git push often so that conflicts can be discovered earlier when only
a few lines of conflicts exist. In order to do git push often, it is
imperative to focus on one specific problem (e.g., adding one feature,
or fixing one bug) at any moment, finish the work, and then push it.</p>
<p>A common mistake among beginning git users is to do several things
simultaneously and take too long to finish any of them. During the time,
these users cannot do git push because the incomplete work would break
others’ changes. When they do git push finally, many things have changed
in the repositories by other users and conflicts likely occur. Resolving
these conflicts takes a lot of efforts. The situation can easily become
worse and worse: When these beginners discover that git push creates
conflicts, they hesitate to do git push. Consequently, they do git push
less and less often and wherever they do, more and more conflicts occur.
Eventually, they are so afraid that they stop doing git push completely.
They no longer contribute and will soon be released from the projects.</p>
</div>
<div class="section" id="branches">
<span id="section-git-branches"></span><h2>Branches<a class="headerlink" href="#branches" title="Permalink to this headline">¶</a></h2>
<p>So far all changes occur on the master branch. This is evident because
the output of every git commit command shows “master”. There is only one
branch, the master branch. Modifying the master branch direclty is
actually not recommended. Instead, the master branch should be reserved
for the stable versions (also called the release versions).</p>
<p>Page  said one should not push buggy code. This is restricted to the
master branch. If multiple branches are used, it is acceptable pushing
buggy code to some branches for collaborators to inspect. This section
uses integer partition as an example showing how branches may be used.
Integer partition means breaking a positive integer into the sum of
several positive integers. Usually, the original number itself is also
an acceptable partition.</p>
<p>More details about integer partition can be found in Chapter 14 of “Intermediate C
Programming”</p>
<p>Section 9.3 of “Discrete and Combinatorial Mathematics”
This is the subject for an entire
book</p>
<p>Below are some example integer partitions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="o">=</span> <span class="mi">1</span>    <span class="mi">2</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>    <span class="mi">3</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>      <span class="mi">4</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
           <span class="o">=</span> <span class="mi">2</span>          <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>            <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>
                        <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>            <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
                        <span class="o">=</span> <span class="mi">3</span>                <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">3</span>
                                           <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
                                           <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span>
                                           <span class="o">=</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span>
                                           <span class="o">=</span> <span class="mi">4</span>
</pre></div>
</div>
<p>Imagine that one wishes to write a program that receives a positive
integer and prints all partitions. The git branch command shows the
current branch. Since no new branch has been created yet, it shows the
master branch</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git branch
* master
</pre></div>
</div>
<p>If a name is given after git branch, a new branch is created. The
following command creates a new branch called partition.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git branch partition
</pre></div>
</div>
<p>To change to the newly created branch, use the git checkout command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout partition
Switched to branch &#39;partition&#39;
</pre></div>
</div>
<p>The git branch command shows two branches and the current working branch
is called partition.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git branch
  master
* partition
</pre></div>
</div>
<p>This is the first version of the program:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python3</span>
<span class="c1"># partition.py</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">printArray</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39; + &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
  <span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span>

<span class="k">def</span> <span class="nf">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">,</span> <span class="n">left</span><span class="p">):</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">printArray</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
    <span class="n">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">left</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;== Partition &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; ==&#39;</span><span class="p">)</span>
  <span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">val</span>
  <span class="n">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span><span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;Need a positive integer&#39;</span><span class="p">)</span>
  <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">val</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;Need a positive integer&#39;</span><span class="p">)</span>
  <span class="n">partition</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</pre></div>
</div>
<p>This file is called partition.py but the name is not restricted by the
branch’s name. This file can be added to the local repository using the
git add and git commit commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git add partition.py
$ git commit -m &quot;add the program for integer partition&quot; partition.py
[partition 810a670] add the program for integer partition
 1 file changed, 29 insertions(+)
 create mode 100755 partition.py
</pre></div>
</div>
<p>Even though the partition branch has already been created earlier, it is
known only locally and it does not exist in the remote repository. Thus,
the git push command has to specify the new name of the branch by adding
origin. The command is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$  git push origin partition
Username for &#39;https://github.com&#39;: yhluprog
Password for &#39;https://yhluprog@github.com&#39;:
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 584 bytes | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
remote:
remote: Create a pull request for &#39;partition&#39; on GitHub by visiting:
remote:      https://github.com/yhluprog/pythonexamples/pull/new/partition
remote:
To https://github.com/yhluprog/pythonexamples.git
 * [new branch]      partition -&gt; partition
</pre></div>
</div>
<p>On github website, the new branch can be seen:</p>
<div class="figure align-default" id="id16">
<span id="figure-github12"></span><img alt="A new branch has been added to github." src="../_images/github12.png" />
<p class="caption"><span class="caption-number">Figure 17 </span><span class="caption-text">A new branch has been added to github.</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
<p>The file partition.py is available only in the partition branch, not in
the master branch, as shown in <a class="reference internal" href="#figure-github134"><span class="std std-numref">Figure 18</span></a>.</p>
<div class="figure align-default" id="id17">
<span id="figure-github13"></span><span id="figure-github134"></span><img alt="The file partition.py is in the partition branch." src="../_images/github13.png" />
<p class="caption"><span class="caption-number">Figure 18 </span><span class="caption-text">The file partition.py is in the partition branch. Also, github says, “This branch is 1 commit ahead of master.”</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="id18">
<img alt="The file partition.py is not in the master branch." src="../_images/github14.png" />
<p class="caption"><span class="caption-number">Figure 19 </span><span class="caption-text">The file partition.py is not in the master branch.</span><a class="headerlink" href="#id18" title="Permalink to this image">¶</a></p>
</div>
<p>The Python file is called partition.py; the local and the remote
branches are called partition. There is no reason why they must have the
same name. The following steps show how to rename the file. by using the
git mv command (mv means move). Of course, this has to be followed by
the git commit and the git push commands.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git mv partition.py intpart.py
$ git commit -m &quot;rename the file&quot; intpart.py
$ git commit -m &quot;deleted&quot; partition.py
[partition 872d9c3] rename the file
 1 file changed, 30 insertions(+)
 create mode 100755 intpart.py
$ git push origin partition
Username for &#39;https://github.com&#39;: yhluprog
Password for &#39;https://yhluprog@github.com&#39;:
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 574 bytes | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/yhluprog/pythonexamples.git
   810a670..872d9c3  partition -&gt; partition
[partition 4b61bbf] deleted
 1 file changed, 29 deletions(-)
 delete mode 100755 partition.py
</pre></div>
</div>
<p>It is possible to have different names for the local and the remote
branches but there is no obvious advantages and can cause unnecessary
confusion. Thus, they will be kept the same.</p>
<p>A branch can also have multiple commits and pushes. The intpart.py
program uses both odd numbers and even numbers. It will give users the
options to use only odd numbers or only even numbers by specifying -o or
-e flag. Obviously, if -e is used, only even numbers can be partitioned.
The new program is listed below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python3</span>
<span class="c1"># intpart.py</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">argparse</span>

<span class="k">def</span> <span class="nf">printArray</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39; + &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
  <span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span>

<span class="k">def</span> <span class="nf">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">odd</span><span class="p">,</span> <span class="n">even</span><span class="p">):</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">printArray</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">)</span>
  <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">  There are four conditions when this i is used</span>
<span class="sd">  1. not odd and not even:</span>
<span class="sd">  2. odd and i is odd</span>
<span class="sd">  3. even and i is even</span>
<span class="sd">  &#39;&#39;&#39;</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">((</span><span class="ow">not</span> <span class="n">odd</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">even</span><span class="p">)):</span>
      <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">odd</span> <span class="ow">and</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)):</span>
      <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">even</span> <span class="ow">and</span> <span class="p">((</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)):</span>
      <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">continue</span> <span class="c1"># do not use this value of i</span>
    <span class="n">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">left</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="n">odd</span><span class="p">,</span> <span class="n">even</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
  <span class="c1"># print (args)</span>
  <span class="n">odd</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">odd</span>
  <span class="n">even</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">even</span>
  <span class="n">val</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">value</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">odd</span> <span class="ow">and</span> <span class="n">even</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;-e and -o cannot be both set&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">even</span> <span class="ow">and</span> <span class="p">(</span><span class="n">val</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;-e cannot partition an odd number&#39;</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;== Partition &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; ==&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">odd</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;== Using only odd numbers ==&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">even</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;== Using only even numbers ==&#39;</span><span class="p">)</span>
  <span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">val</span>
  <span class="n">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">odd</span><span class="p">,</span> <span class="n">even</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">checkArgs</span><span class="p">(</span><span class="n">args</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;parse arguments&#39;</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="s1">&#39;--odd&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;odd numbers only&#39;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-e&#39;</span><span class="p">,</span> <span class="s1">&#39;--even&#39;</span><span class="p">,</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;even numbers only&#39;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;number to parition&#39;</span><span class="p">)</span>
  <span class="n">pargs</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">pargs</span>

<span class="k">if</span> <span class="vm">__name__</span><span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
  <span class="n">args</span> <span class="o">=</span> <span class="n">checkArgs</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
  <span class="n">partition</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</pre></div>
</div>
<p>When partitioning 4, is 1 + 1 + 2 considered the same as 1 + 2 + 1, as
well as 2 + 1 + 1? The program intpart.py treats them as different
partitions. The next change is to have the option whether orders matter.
If the order does not matter (i.e., 1 + 1 + 2, 1 + 2 + 1, and 2 + 1 + 1
are considered as equivalent or duplicates), one simple way to eliminate
duplicates is by restricting the latter numbers must not be smaller than
earlier numbers. This eliminates 1 + 2 + 1 and 2 + 1 + 1 because they do
not meet the requirement. The new program is listed below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python3</span>
<span class="c1"># intpart.py</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">argparse</span>

<span class="k">def</span> <span class="nf">printArray</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39; + &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
  <span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span>

<span class="k">def</span> <span class="nf">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">odd</span><span class="p">,</span> <span class="n">even</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">printArray</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">)</span>
  <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">  There are four conditions when this i is used</span>
<span class="sd">  1. not odd and not even:</span>
<span class="sd">  2. odd and i is odd</span>
<span class="sd">  3. even and i is even</span>
<span class="sd">  &#39;&#39;&#39;</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">order</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ind</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">i</span><span class="p">)):</span>
      <span class="c1"># orders do not matter</span>
      <span class="c1"># the numbers must not be decreasing</span>
      <span class="k">continue</span>
    <span class="k">if</span> <span class="p">((</span><span class="ow">not</span> <span class="n">odd</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">even</span><span class="p">)):</span>
      <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">odd</span> <span class="ow">and</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)):</span>
      <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">even</span> <span class="ow">and</span> <span class="p">((</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)):</span>
      <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">continue</span> <span class="c1"># do not use this value of i</span>
    <span class="n">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">left</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="n">odd</span><span class="p">,</span> <span class="n">even</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
  <span class="c1"># print (args)</span>
  <span class="n">odd</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">odd</span>
  <span class="n">even</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">even</span>
  <span class="n">order</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">order</span>
  <span class="n">val</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">value</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">odd</span> <span class="ow">and</span> <span class="n">even</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;-e and -o cannot be both set&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">even</span> <span class="ow">and</span> <span class="p">(</span><span class="n">val</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;-e cannot partition an odd number&#39;</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;== Partition &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; ==&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">odd</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;== Using only odd numbers ==&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">even</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;== Using only even numbers ==&#39;</span><span class="p">)</span>
  <span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">val</span>
  <span class="n">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">odd</span><span class="p">,</span> <span class="n">even</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">checkArgs</span><span class="p">(</span><span class="n">args</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;parse arguments&#39;</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="s1">&#39;--odd&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;odd numbers only&#39;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-e&#39;</span><span class="p">,</span> <span class="s1">&#39;--even&#39;</span><span class="p">,</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;even numbers only&#39;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-r&#39;</span><span class="p">,</span> <span class="s1">&#39;--order&#39;</span><span class="p">,</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;orders do not matter&#39;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;number to parition&#39;</span><span class="p">)</span>
  <span class="n">pargs</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">pargs</span>

<span class="k">if</span> <span class="vm">__name__</span><span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
  <span class="n">args</span> <span class="o">=</span> <span class="n">checkArgs</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
  <span class="n">partition</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</pre></div>
</div>
<p>Now the program is ready to be moved to the stable master branch. This
will be done in three steps: (1) go to the master branch using the git
checkout command; (2) merge the partition branch to the master branch
using the git merge command; (3) delete the partition branch using the
git branch -d command. The git branch command is used to check which
branch is used right now and whether any other branch exists. At can be
seen, the last git branch shows only the master branch. The last command
deletes the branch at github.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout master
Switched to branch &#39;master&#39;
Your branch is up-to-date with &#39;origin/master&#39;.
$ git branch
* master
  partition
$ git merge partition
Updating 3357bae..d9ee8e1
Fast-forward
 intpart.py | 70 +++++++++++++++++++++++++++
 1 file changed, 70 insertions(+)
 create mode 100755 intpart.py
$ git branch -d partition
Deleted branch partition (was d9ee8e1).
$ git branch
* master
$ git push
Username for &#39;https://github.com&#39;: yhluprog
Password for &#39;https://yhluprog@github.com&#39;:
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/yhluprog/pythonexamples.git
   3357bae..d9ee8e1  master -&gt; master
$ git push origin --delete partition
Username for &#39;https://github.com&#39;: yhluprog
Password for &#39;https://yhluprog@github.com&#39;:
To https://github.com/yhluprog/pythonexamples.git
 - [deleted]         partition
</pre></div>
</div>
<p>A common mistake among beginning git users is that they do not merge
branches. They keep changing their own branches. They want to show to
their collaborators that they are contributing by frequently pushing
improvements to the repositories. However, if the improvements stay in
the branches that are not merged, these improvements are not actually
useful. Most branches should have short lives: Each branch is created
for one specific purpose. It is documented, developed, tested,
committed, merged, and then deleted.</p>
</div>
<div class="section" id="pull-requests">
<h2>Pull Requests<a class="headerlink" href="#pull-requests" title="Permalink to this headline">¶</a></h2>
<p>Creating a branch does not inform collaborators. This is reasonable
because a branch may have many versions that are not ready to be shared.
When a version is ready, collaborators may be informed by using a pull
request. A pull request should be initiated from a branch other than the
master branch because the master should be the stable branch. A pull
request may serve one or more purposes, including (1) The version in the
branch is ready to be inspected by one or more collaborators before
being merged to the master branch. (2) The version needs to be
integrated with the work by collaborators. (3) The version has some
problems and the person that creates this version does not know how to
solve the problems. This person asks collaborators to help.</p>
<p>Suppose one wants to add another option that excludes the number itself
in integer partition. For example, to partition 5, valid options include
4 + 1, 2 + 3, and 2 + 1 + 2; however, 5 itself is not accepted. This
person creates a new branch called partition_not_self. The following
command, with -b, can simultaneously create a branch and switch to the
branch.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout -b partition_not_self
Switched to a new branch &#39;partition_not_self&#39;
$ git branch
  master
* partition_not_self
</pre></div>
</div>
<p>The following code is an attempt for this option. However, when -s is
added, no partition is printed at all.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python3</span>
<span class="c1"># intpart.py</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">argparse</span>

<span class="k">def</span> <span class="nf">printArray</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39; + &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
  <span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span>

<span class="k">def</span> <span class="nf">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">odd</span><span class="p">,</span> <span class="n">even</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">notself</span><span class="p">):</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">printArray</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span><span class="p">)</span>
  <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">  There are four conditions when this i is used</span>
<span class="sd">  1. not odd and not even:</span>
<span class="sd">  2. odd and i is odd</span>
<span class="sd">  3. even and i is even</span>
<span class="sd">  &#39;&#39;&#39;</span>
  <span class="n">maxi</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">notself</span><span class="p">):</span>
    <span class="n">maxi</span> <span class="o">=</span> <span class="n">left</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">maxi</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">order</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ind</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">i</span><span class="p">)):</span>
      <span class="c1"># orders do not matter</span>
      <span class="c1"># the numbers must not be decreasing</span>
      <span class="k">continue</span>
    <span class="k">if</span> <span class="p">((</span><span class="ow">not</span> <span class="n">odd</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">even</span><span class="p">)):</span>
      <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">odd</span> <span class="ow">and</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)):</span>
      <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">even</span> <span class="ow">and</span> <span class="p">((</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)):</span>
      <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">continue</span> <span class="c1"># do not use this value of i</span>
    <span class="n">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">ind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">left</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="n">odd</span><span class="p">,</span> <span class="n">even</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">notself</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
  <span class="c1"># print (args)</span>
  <span class="n">odd</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">odd</span>
  <span class="n">even</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">even</span>
  <span class="n">order</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">order</span>
  <span class="n">val</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">value</span>
  <span class="n">notself</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">notself</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">odd</span> <span class="ow">and</span> <span class="n">even</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;-e and -o cannot be both set&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">even</span> <span class="ow">and</span> <span class="p">(</span><span class="n">val</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;-e cannot partition an odd number&#39;</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;== Partition &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; ==&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">odd</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;== Using only odd numbers ==&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">even</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;== Using only even numbers ==&#39;</span><span class="p">)</span>
  <span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">val</span>
  <span class="n">partitionHelp</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">odd</span><span class="p">,</span> <span class="n">even</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">notself</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">checkArgs</span><span class="p">(</span><span class="n">args</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;parse arguments&#39;</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="s1">&#39;--odd&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;odd numbers only&#39;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-e&#39;</span><span class="p">,</span> <span class="s1">&#39;--even&#39;</span><span class="p">,</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;even numbers only&#39;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-r&#39;</span><span class="p">,</span> <span class="s1">&#39;--order&#39;</span><span class="p">,</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;orders do not matter&#39;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-s&#39;</span><span class="p">,</span> <span class="s1">&#39;--notself&#39;</span><span class="p">,</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;not to include itself&#39;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-v&#39;</span><span class="p">,</span> <span class="s1">&#39;--value&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
                      <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;number to parition&#39;</span><span class="p">)</span>
  <span class="n">pargs</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">pargs</span>

<span class="k">if</span> <span class="vm">__name__</span><span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
  <span class="n">args</span> <span class="o">=</span> <span class="n">checkArgs</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
  <span class="n">partition</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</pre></div>
</div>
<p>The person writing this program wants to get help from a collaborator by
creating a pull request. <a class="reference internal" href="#figure-github15"><span class="std std-numref">Figure 20</span></a> and <a class="reference internal" href="#figure-github18"><span class="std std-numref">Figure 21</span></a>
show how to create a pull request on github and assign it to a
collaborator.</p>
<div class="figure align-default" id="id19">
<span id="figure-github15"></span><img alt="Create pull request on the github website." src="../_images/github15.png" />
<p class="caption"><span class="caption-number">Figure 20 </span><span class="caption-text">Create pull request on the github website.</span><a class="headerlink" href="#id19" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="id20">
<span id="figure-github18"></span><img alt="Assign it to a specific collaborator." src="../_images/github18.png" />
<p class="caption"><span class="caption-number">Figure 21 </span><span class="caption-text">Assign it to a specific collaborator.</span><a class="headerlink" href="#id20" title="Permalink to this image">¶</a></p>
</div>
<p>A pull request can automatically mark the line-by-line changes as shown
in <a class="reference internal" href="#figure-github16"><span class="std std-numref">Figure 22</span></a> and <a class="reference internal" href="#figure-github17"><span class="std std-numref">Figure 23</span></a>.</p>
<div class="figure align-default" id="id21">
<span id="figure-github16"></span><img alt="The pull request can show the line-by-line differences." src="../_images/github16.png" />
<p class="caption"><span class="caption-number">Figure 22 </span><span class="caption-text">The pull request can show the line-by-line differences.</span><a class="headerlink" href="#id21" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="id22">
<span id="figure-github17"></span><img alt="The pull request can show the line-by-line differences." src="../_images/github17.png" />
<p class="caption"><span class="caption-number">Figure 23 </span><span class="caption-text">The pull request can show the line-by-line differences.</span><a class="headerlink" href="#id22" title="Permalink to this image">¶</a></p>
</div>
<p>The pull request can also include comments in addition to the commit
message.</p>
<div class="figure align-default" id="id23">
<span id="figure-github19"></span><img alt="The pull request allows comments." src="../_images/github19.png" />
<p class="caption"><span class="caption-number">Figure 24 </span><span class="caption-text">The pull request allows comments.</span><a class="headerlink" href="#id23" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#figure-github2"><span class="std std-numref">Figure 3</span></a> shows an example of a response of the
pull request. Usually, responses are in the form of suggestions to
improve code or questions for clarification.</p>
<div class="figure align-default" id="id24">
<span id="figure-github20"></span><img alt="Response of a pull request." src="../_images/github20.png" />
<p class="caption"><span class="caption-number">Figure 25 </span><span class="caption-text">Response of a pull request.</span><a class="headerlink" href="#id24" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="issues">
<h2>Issues<a class="headerlink" href="#issues" title="Permalink to this headline">¶</a></h2>
<p>Pull requests are restricted to the users that have write permissions.
Issues can be raised by people that have no write permissions.
<a class="reference internal" href="#figure-githubissue"><span class="std std-numref">Figure 26</span></a> shows an example of an issue of a
possible error in this book.</p>
<div class="figure align-default" id="id25">
<span id="figure-githubissue"></span><img alt="Issue is another way to communicate." src="../_images/githubissue2.png" />
<p class="caption"><span class="caption-number">Figure 26 </span><span class="caption-text">Issue is another way to communicate.</span><a class="headerlink" href="#id25" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="release-this-book">
<h2>Release this Book<a class="headerlink" href="#release-this-book" title="Permalink to this headline">¶</a></h2>
<p>This book is continuously released: every time a new version is ready,
it is released.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git tag v0.5
$ git push --tags
Username for &#39;https://github.com&#39;: yhluprog
Password for &#39;https://yhluprog@github.com&#39;:
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/PurdueCAM2Project/SE4ML.git
 * [new tag]         0.5 -&gt; 0.5
</pre></div>
</div>
</div>
<div class="section" id="set-up-ssh-key">
<h2>Set Up SSH Key<a class="headerlink" href="#set-up-ssh-key" title="Permalink to this headline">¶</a></h2>
<p>Using SSH keys is helpful to avoid entering username and password when pushing local changes to a remote repository.</p>
<p>Ensure you have ssh-keygen on your system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ which ssh-keygen
/usr/bin/ssh-keygen
</pre></div>
</div>
<p>We do not cover installation of basic Unix tools here; however, this tool is provided on all modern Unix systems, including OS X and Windows (using Windows Subsystem for Linux).</p>
<p>Generate your private/public key pair.
In this example, we use the RSA algorithm with 2048-bit keys.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh-keygen -t rsa -b 2048
Generating public/private rsa key pair.
Enter file in which to save the key (/home/thiruvathukal/.ssh/id_rsa): gkthiruvathukal
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in gkthiruvathukal.
Your public key has been saved in gkthiruvathukal.pub.
The key fingerprint is:
SHA256:8KETYZ4cAtMCDNMXP8IadYv6DjzuNpN0f67W7oCRtKM thiruvathukal@penguin
The key&#39;s randomart image is:
+---[RSA 2048]----+
|*ooo+.=          |
| oo+oO =         |
|  .o= X .        |
|   = + * .       |
|  o = o S        |
| ..o.+ .         |
| .Eoo...         |
| .=+  o.o        |
| ooo...*+        |
+----[SHA256]-----+
</pre></div>
</div>
<p>Display the public key. This is what you need to upload to GitHub.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat gkthiruvathukal.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDXiY/Bn1ZrwVqy6W6g8dPL1QQ5QnRojF4UmhbRihER7nefoSS9c6kwoD7cnD8fM2UINiRYI56j7vek1qqH09SstmnuKQLNf6tJqYgcRUguSQRqhS+yjJ2HLkm/GCXXrja/SFTHjspLwgZRsQFWK8yZXNSPZZnxUOXI3UBc4z2nTQ+MclhU0VzcbJhH9LeqyvKNtiTRjhVXF8wXJzWRQ8wVPKvd2Jl8fYqfoExRAAHDBEmxQyTraawA8J5cNS24EWAoKIR4rT9H7u1UKGjyoII53U137IsPG5SCZ9rNG/XAzF7GC18S+MbBwJ9W5LjaaGEqy0UOq2FtF3UMGdFtxSCV thiruvathukal@penguin
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The keys used here (public and private) were only used for testing and have already been deleted.</p>
</div>
<div class="figure align-default" id="id26">
<img alt="Github profile settings" src="../_images/githubprofile.png" />
<p class="caption"><span class="caption-number">Figure 27 </span><span class="caption-text">Select settings in github settings</span><a class="headerlink" href="#id26" title="Permalink to this image">¶</a></p>
</div>
<p>Upload key to GitHub.</p>
<div class="figure align-default" id="id27">
<img alt="Copy/paste public key in GitHub SSH Config" src="../_images/ssh-key-add-key.png" />
<p class="caption"><span class="caption-number">Figure 28 </span><span class="caption-text">Copy/paste public key in GitHub SSH Config</span><a class="headerlink" href="#id27" title="Permalink to this image">¶</a></p>
</div>
<p>Successful upload of key</p>
<div class="figure align-default" id="id28">
<img alt="Successful upload shows fingerprint" src="../_images/ssh-key-success.png" />
<p class="caption"><span class="caption-number">Figure 29 </span><span class="caption-text">Successful upload shows fingerprint</span><a class="headerlink" href="#id28" title="Permalink to this image">¶</a></p>
</div>
<p>Add Host entry in <cite>~/.ssh/config</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Host</span> <span class="n">gkthiruvathukal</span><span class="o">-</span><span class="n">github</span>
   <span class="n">HostName</span> <span class="n">github</span><span class="o">.</span><span class="n">com</span>
   <span class="n">IdentityFile</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">gkthiruvathukal</span>
</pre></div>
</div>
<p>Now try cloning a repository with a git-style location and the newly created Host entry:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone git@gkthiruvathukal-github:PurdueCAM2Project/SE4ML
Cloning into &#39;SE4ML&#39;...
remote: Enumerating objects: 75, done.
remote: Counting objects: 100% (75/75), done.
remote: Compressing objects: 100% (38/38), done.
remote: Total 1772 (delta 47), reused 61 (delta 35), pack-reused 1697
Receiving objects: 100% (1772/1772), 10.82 MiB | 5.45 MiB/s, done.
Resolving deltas: 100% (898/898), done.
</pre></div>
</div>
<p>As you can see, adding an entry to <cite>~/.ssh/config</cite> creates a pseudo-hostname that can be used as the hostname in a git-style URL.</p>
<p>While it is not strictly required to create a Host entry in <cite>~/.ssh/config</cite>, you may find it convenient to have separate entries if you have multiple git identities (i.e. different GitHub accounts for different projects). Given that we as co-authors have multiple identities on git, we have written these instructions to be as general as possible.</p>
<p>If you have already generated a default identity such as <cite>id_dsa</cite> or <cite>id_rsa</cite>, just upload the file <cite>id_dsa.pub</cite> or <cite>id_rsa.pub</cite> to GitHub. and use <cite>git&#64;github.com</cite> in the git location string.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="chapter_cr.html" class="btn btn-neutral float-right" title="Code Review" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="chapter_python.html" class="btn btn-neutral float-left" title="Introduction to Python" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Yung-Hsiang Lu and George K. Thiruvathukal

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>